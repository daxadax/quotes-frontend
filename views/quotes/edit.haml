-# publications: a collection of all publications in the database
-# tags: a collection of all tags in the database
-# quote: the quote being editted

%form.form-vertical{ :action => "/edit_quote/#{quote.uid}", :method => 'post', :role => 'form'}
  %fieldset

  %legend=  "Edit quote from #{quote.title} by #{quote.author}"

  .form-group
    %label.control-label.sr-only{:for => 'publication_uid'} Select publication
    %select.form-control{:name => 'publication_uid'}
      %option{:value => quote.publication_uid}= quote.title
      -publications.each do |publication|
        - unless publication.title == quote.title
          %option{:value => publication.uid}= publication.title

  .form-group
    %label.control-label{:for => "content"} Content
    %textarea#content-input.form-control{:name => "content",
                                                              :rows => 7}
      = quote.content

  .form-group
    %label.control-label{:for => "page_number"} Page Number
    %input.form-control{:name => 'page_number',
                                    :type => 'text',
                                    :placeholder => 'required',
                                    :value => quote.page_number}

  -# .form-group
  -#   %label.control-label{:for => "links"} Linked quotes
  -#   %search.form-control{:name => "links",
  -#                                 :type => "search",
  -#                                 :placeholder => "search for linked quotes"}

  .form-group
    %label.control-label{:for => "tags"} Tags
    #suggested-tags
    %input#tags-input.form-control{:name => 'tags',
                                    :type => 'text',
                                    :value => quote.tags.join(', ')}
    #tag-data{:data => {:tags => tags}}

  %button.btn.btn-primary{:type => 'submit'} Update Quote
