-# publication
-# hide_all
- quotes ||= []

.publication-container
  - if quotes.any?
    .quotes-hidden.glyphicon.glyphicon-chevron-right.pull-left
    .quotes-displayed.glyphicon.glyphicon-chevron-down.pull-left.hide

  .publication
    .title
      = show_title_for publication
      .publication-btn.btn-group
        .dropdown-toggle{:type => 'button',
          :data =>{:toggle => 'dropdown'}}
          %span.glyphicon.glyphicon-cog{:aria => {:hidden => true}}
        %ul.dropdown-menu
          %li=link_to "/publication/edit/#{publication_uid_for(publication)}", 'edit'
          %li=link_to '#', 'delete'
          %li=link_to "/publication/#{publication_uid_for(publication)}", 'permalink'
    .publication-info
      .author.pull-left
        Author:
        = show_author_for publication
      .publisher.pull-left
        Publisher:
        = "#{publication.publisher} (#{publication.year})"

  - if quotes.any?
    .container.quotes-container{:class => ('hide' if hide_all || quotes.size > 1)}
      - quotes.each do |quote|
        = display_page(quote_partial, :quote => quote)
